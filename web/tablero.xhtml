<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"

      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Tablero Damas Chinas</title>
        <style type="text/css">
            .ui-diagram-element {   
                width:2em; 
                height:2em;
                line-height:1em;
                text-align: center;
                box-shadow: 0 5px 10px rgba(0, 0, 0, 0.8);
                border-radius: 2em;
                border: 1px solid #404a4e;
                background-color: lightgray ;
                color: #cccccc;
            }

            .ui-diagram-element-ficha-gris {   
                width:2.5em; 
                height:2.5em;
                line-height:1em;
                text-align: center;
                box-shadow: 0 5px 10px rgba(0, 0, 0, 0.8);
                border-radius: 2em;
                border: 1px solid #404a4e;
                background-color: #cccccc;
                color: #4f4f4f;
            }
            .ui-diagram-element:hover {
                background-color: dimgrey;
            }
            
            .btn-round{
                border-radius: 90%;
                width: 50px;
                height: 50px;
                border-color: #4f4f4f;
                margin-left: 35px;
                background-color: gold;
            }
        </style>
    </h:head>
    <h:body>

        <h:form id="frmTablero" >
            <p:growl id="pgTablero"/>

            <h:panelGroup rendered="#{!controladorCuatroEnLinea.estadoJuego}">
                <h:outputText value="AÃºn no existe un juego habilitado para ud"/>
                <br/>
                <h:outputText id="fecha_sistema" value="#{controladorCuatroEnLinea.fechaSistema}" 
                              style="color:mediumorchid; font-size: 3em;" />

                <p:poll interval="1"   update="frmTablero"  />
            </h:panelGroup>

             <h:panelGroup id="gpJuego" >
                 <h:panelGroup rendered="#{controladorCuatroEnLinea.estadoJuego}" id="panelTablero" layout="block" style="overflow: auto; width: 100%; height: 1000px;" >
                    
                     <p:commandButton action="#{controladorCuatroEnLinea.jugada(1)}" class="btn-round" value="1" update="@all" ajax="false"/>
                     <p:commandButton action="#{controladorCuatroEnLinea.jugada(2)}" class="btn-round" value="2" update="@all" ajax="false"/>
                     <p:commandButton action="#{controladorCuatroEnLinea.jugada(3)}" class="btn-round" value="3" update="@all" ajax="false"/>
                     <p:commandButton action="#{controladorCuatroEnLinea.jugada(4)}" class="btn-round" value="4" update="@all" ajax="false"/>
                     <p:commandButton action="#{controladorCuatroEnLinea.jugada(5)}" class="btn-round" value="5" update="@all" ajax="false"/>
                     <p:commandButton action="#{controladorCuatroEnLinea.jugada(6)}" class="btn-round" value="6" update="@all" ajax="false"/>
                     <p:commandButton action="#{controladorCuatroEnLinea.jugada(7)}" class="btn-round" value="7" update="@all" ajax="false"/>
                     
                     <p:diagram id="tablero" value="#{controladorCuatroEnLinea.model}" style="height:1000px" styleClass="ui-widget-content" />
 
                   <!--  <p:commandButton action="#//{damasAppBean.simularJugada()}" value="Simular Jugada" update="@all" ajax="false"/>
                 
 
                <p:remoteCommand name="elementClickRight" 
                                  actionListener="#//{damasAppBean.onClickRight()}">
                 </p:remoteCommand>
                 <script>
                     $(document).ready(function () {
                         $('.ui-diagram > .ui-diagram-element').mousedown(function (info) {
                             if (info.which === 3) {
                                 elementClickRight([{
                                         name: 'elementId',
                                         value: info.target.id
                                     }]);
 
                             }
                         });
                     });
                 </script>
 
 
 
                 <p:contextMenu for="panelTablero" id="cmFicha" 
                                targetFilter=".ui-diagram-element" >
                     <p:menuitem value="Prueba" update="@all"
                                 ajax="false" icon="ui-icon-disk" 
                                 action="#//{damasAppBean.pruebaMenu()}"
                                 />
                     <p:menuitem value="Prueba 2" update="@all"
                                 ajax="false" icon="ui-icon-disk" 
                                 action="#//{damasAppBean.pruebaMenu()}"
                                 />
                     <p:menuitem value="Prueba 3" update="@all"
                                 ajax="false" icon="ui-icon-disk" 
                                 action="#//{damasAppBean.pruebaMenu()}"
                                 />
                 </p:contextMenu>-->
 
                    </h:panelGroup>
             </h:panelGroup>

        </h:form>
    </h:body>
</html>

